<ng-container *ngIf="project$ | async as project">
  <p class="title is-2">Upload a model</p>
  <h5 class="subtitle is-5">
    Add a model to the repository, or update an existing one
  </h5>
  <form [formGroup]="fileUploadForm">
    <div class="columns">
      <div class="column">
        <div class="field">
          <models4insight-file-dropzone
            [context]="modelUploadContext"
            [control]="fileUploadForm.controls['file']"
            [isSubmitted]="isSubmitted"
          ></models4insight-file-dropzone>
        </div>
      </div>
      <div class="column is-one-third">
        <div class="field">
          <models4insight-branch-select
            [context]="branchSelectContext"
            [control]="fileUploadForm.controls['branch']"
            [isSubmitted]="isSubmitted"
            [withCreateBranch]="true"
          ></models4insight-branch-select>
        </div>
        <div class="field">
          <models4insight-description-input
            [context]="descriptionContext"
            [control]="fileUploadForm.controls['comment']"
            [isSubmitted]="isSubmitted"
          ></models4insight-description-input>
        </div>
        <div class="field">
          <div class="control">
            <models4insight-commit-button (commit)="onCommit($event)">
            </models4insight-commit-button>
          </div>
        </div>
      </div>
    </div>
  </form>
</ng-container>
